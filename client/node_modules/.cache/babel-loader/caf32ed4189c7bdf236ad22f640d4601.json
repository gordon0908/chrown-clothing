{"ast":null,"code":"import { firestore, convertCollectionsSnapshotToMap } from '../../../firebase/firebase.util';\nimport { takeEvery, call, put } from 'redux-saga/effects';\nimport { fetchShopSuccess, fetchShopFailed } from './shop-action';\nimport { FETCH_SHOP_START, FETCH_SHOP_SUCCESS, FETCH_SHOP_FAILED } from './type';\n\nfunction* sagasStartToProgress() {\n  // yield console.log('sagasStartToProgress')\n  const collectionRef = firestore.collection('collections');\n\n  try {\n    const collectionData = yield collectionRef.get();\n    const collections = yield call(convertCollectionsSnapshotToMap, collectionData);\n    put(fetchShopSuccess(collections));\n  } catch (e) {\n    put(fetchShopFailed(e.message));\n  }\n}\n\n;\nexport function* sagasStart() {\n  yield takeEvery(FETCH_SHOP_START, sagasStartToProgress);\n}\n/*\n\ncollectionRef.get().then(\n    snopshot => {\n        const data = convertCollectionsSnapshotToMap(snopshot);\n        dispatch(fetchShopSuccess(data));\n    }\n).catch(e=>{\n    dispatch(fetchShopFailed(e.message))\n})*/","map":{"version":3,"sources":["/Users/gordon/mywork/mytraining/2020-v1/complete-react-developer-in-2020-fromPaul/crown-app/src/components/redux/shop/shop-sagas.js"],"names":["firestore","convertCollectionsSnapshotToMap","takeEvery","call","put","fetchShopSuccess","fetchShopFailed","FETCH_SHOP_START","FETCH_SHOP_SUCCESS","FETCH_SHOP_FAILED","sagasStartToProgress","collectionRef","collection","collectionData","get","collections","e","message","sagasStart"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,+BAApB,QAA2D,iCAA3D;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,QAAqC,oBAArC;AAEA,SAASC,gBAAT,EAA2BC,eAA3B,QAAiD,eAAjD;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,EAA+CC,iBAA/C,QAAwE,QAAxE;;AAEA,UAAUC,oBAAV,GAAiC;AAC7B;AACA,QAAMC,aAAa,GAAGX,SAAS,CAACY,UAAV,CAAqB,aAArB,CAAtB;;AACA,MAAI;AACA,UAAMC,cAAc,GAAG,MAAMF,aAAa,CAACG,GAAd,EAA7B;AACA,UAAMC,WAAW,GAAG,MAAMZ,IAAI,CAACF,+BAAD,EAAkCY,cAAlC,CAA9B;AACAT,IAAAA,GAAG,CAACC,gBAAgB,CAACU,WAAD,CAAjB,CAAH;AACH,GAJD,CAIC,OAAMC,CAAN,EAAS;AACNZ,IAAAA,GAAG,CAACE,eAAe,CAACU,CAAC,CAACC,OAAH,CAAhB,CAAH;AACH;AACJ;;AAAA;AAED,OAAO,UAAUC,UAAV,GAAuB;AAC1B,QAAMhB,SAAS,CAACK,gBAAD,EAAmBG,oBAAnB,CAAf;AACH;AAED","sourcesContent":["import { firestore, convertCollectionsSnapshotToMap } from '../../../firebase/firebase.util';\nimport { takeEvery, call, put } from 'redux-saga/effects';\n\nimport { fetchShopSuccess, fetchShopFailed} from './shop-action';\nimport { FETCH_SHOP_START, FETCH_SHOP_SUCCESS, FETCH_SHOP_FAILED } from './type';\n\nfunction* sagasStartToProgress() {\n    // yield console.log('sagasStartToProgress')\n    const collectionRef = firestore.collection('collections');\n    try {\n        const collectionData = yield collectionRef.get();\n        const collections = yield call(convertCollectionsSnapshotToMap, collectionData);\n        put(fetchShopSuccess(collections));\n    }catch(e) {\n        put(fetchShopFailed(e.message));\n    }\n};\n\nexport function* sagasStart() {\n    yield takeEvery(FETCH_SHOP_START, sagasStartToProgress);\n}\n\n/*\n\ncollectionRef.get().then(\n    snopshot => {\n        const data = convertCollectionsSnapshotToMap(snopshot);\n        dispatch(fetchShopSuccess(data));\n    }\n).catch(e=>{\n    dispatch(fetchShopFailed(e.message))\n})*/"]},"metadata":{},"sourceType":"module"}